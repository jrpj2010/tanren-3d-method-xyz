# VibeCoding - 会話履歴

## プロジェクト概要

VibeCodingは、議事録テキストを明治・昭和モダンテイストのSVGスライドに自動変換するアプリケーションです。ユーザーが議事録テキストを入力すると、AIが内容を解析し、複数のSVGスライドを生成します。また、各スライドに対応するトークスクリプトと画像生成プロンプトも作成します。

## 技術スタック

### コア技術
- TypeScript: ^5.0.0
- Node.js: ^20.0.0  
- AIモデル: Claude-3-Sonnet-20241022 (Anthropic Messages API 2023-06-01)

### フロントエンド
- Next.js: ^15.1.3
- React: ^19.0.0
- Tailwind CSS: ^3.4.17
- shadcn/ui: ^2.1.8

### バックエンド
- SQLite: ^3.0.0
- Prisma: ^5.0.0

### 開発ツール
- npm: ^10.0.0
- ESLint: ^9.0.0
- TypeScript: ^5.0.0

## 開発プロセス

### 1. 要件定義と設計

最初にプロジェクトの要件定義を行い、以下の主要機能を特定しました：

- テキスト入力機能：ユーザーが議事録を入力できるフォーム
- AI処理機能：入力テキストをClaudeで解析し、スライドデータを生成
- SVG生成機能：スライドデータからSVGを自動生成
- ファイル出力機能：SVG、トークスクリプト、画像プロンプトの出力

全体のアーキテクチャとデータフローも設計し、各機能の責任範囲を明確にしました。

### 2. プロジェクト構築

Next.jsプロジェクトを初期化し、以下のディレクトリ構造を作成しました：

```
app/
├── api/                  # APIエンドポイント
├── components/           # UIコンポーネント
│   ├── ui/               # 基本UI要素
│   └── layout/           # レイアウト関連
├── hooks/                # カスタムフック
├── lib/                  # ユーティリティ
│   ├── api/              # API関連処理
│   └── utils/            # 共通関数
└── styles/               # スタイル定義
```

### 3. 主要機能の実装

#### データベースモデル

Prismaを使用して、以下のモデルを実装しました：

- Project: プロジェクト情報と元のテキストデータを保存
- Slide: 各スライドのデータ（タイトル、SVG、トークスクリプト、画像プロンプト）

#### APIエンドポイント

RESTful APIエンドポイントを実装し、以下の機能を提供：

- `/api/projects`: プロジェクトの作成・取得
- `/api/projects/[id]`: 特定プロジェクトの取得
- `/api/projects/[id]/progress`: SSEを使用したリアルタイム進捗情報
- `/api/projects/[id]/download`: スライドとメタデータのエクスポート

#### Claude AI統合

Anthropic APIを使用してClaudeモデルと統合し、以下の機能を実装：

- システムプロンプトの設計: 議事録からスライドデータを抽出するAIの指示
- スライドデータのJSON構造化: タイトル、3列のカラムデータ、トークスクリプト、画像プロンプト
- エラーハンドリングとリトライ機能

#### SVG生成ユーティリティ

スライドデータからSVGを生成するユーティリティを実装：

- 明治・昭和モダンテイストのデザインテンプレート
- 3列レイアウトのスライド構造
- フォントとスタイルの設定（Noto Sans JP、Noto Serif JPを使用）

#### ファイル出力機能

- SVGファイルの保存
- トークスクリプトのエクスポート
- 画像生成プロンプトのエクスポート
- プロジェクトディレクトリ管理

### 4. UIコンポーネント

以下のUIコンポーネントを実装しました：

- テキスト入力フォーム
- プロジェクト一覧表示
- スライドプレビュー
- 進捗状況表示
- エクスポートオプション

### 5. 問題対応

開発中に以下の問題が発生し、対応しました：

#### 依存関係の競合

- Reactバージョンの不一致
- Tailwind CSSとの競合
- 解決策：package.jsonの依存関係を調整

#### フォント設定

- Noto Sans/Serif JPのインポート問題
- 解決策：適切なCDNリンクとfont-familyの設定

#### データベース初期化

- Prismaモデルとデータベースの同期エラー
- 解決策：`npx prisma migrate dev`コマンドで移行を適用

#### Claude API接続

- APIキーの設定問題
- モデル指定エラー（404 Not Found）
- 解決策：.envファイルの修正と正しいモデル名の指定

### 6. パフォーマンス最適化

- SVG生成の最適化
- Server-Sent Eventsによるリアルタイム進捗表示
- エラーハンドリングの強化

## 今後の改善点

1. より多様なスライドテンプレートの提供
2. 画像生成APIとの連携
3. ユーザー認証の追加
4. スライドエディタ機能の実装
5. パフォーマンスのさらなる最適化

## まとめ

VibeCodingアプリケーションは、Claude AIを活用して議事録テキストから明治・昭和モダンテイストのSVGスライドを自動生成する機能を実現しました。Next.jsとTailwind CSSによるモダンなUI、Server-Sent Eventsによるリアルタイム進捗表示、そして効率的なファイル出力システムを備えています。

今後も機能拡張とUI/UXの改善を継続し、より使いやすく効果的なツールへと発展させていく予定です。 